!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SmallCorpusSearcher=t():r.SmallCorpusSearcher=t()}(this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return r[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=r,t.c=e,t.p="",t(0)}([function(r,t){"use strict";function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function r(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),o=function(){function r(t,n){e(this,r);var o=this;this.docs=[],this.IDF={},this.docs=t.map(function(r){return{doc:r,words:o._wordsFromString(n(r))}});var i={};this.docs.forEach(function(r){var t={};r.words.forEach(function(r){t[r]=!0}),Object.keys(t).forEach(function(r){i[r]=i[r]+1||1})}),Object.keys(i).forEach(function(r){o.IDF[r]=1/(1+Math.log(i[r]))}),i=null}return n(r,[{key:"_wordsFromString",value:function(r){return r=r.replace(/'/gi,""),r=r.replace(/[^\w\s]/gi," "),r.toLowerCase().split(" ").filter(function(r){return!!r})}},{key:"filter",value:function(r){var t=this,e=this._wordsFromString(r),n=this.docs.map(function(r){var n=!1,o=0;e.forEach(function(e){var i=!1,a=0;r.words.forEach(function(r){0===r.indexOf(e)&&(a=Math.max(a,t.IDF[r]),i=!0)}),i?o=Math.max(o,a):n=!0});var i={item:r,rank:n?0:o};return i}).filter(function(t){return!r||t.rank>0}).sort(function(r,t){return t.rank-r.rank}).map(function(r){return r.item.doc});return n}}]),r}();t.default=o}])});
//# sourceMappingURL=small-corpus-searcher.min.js.map